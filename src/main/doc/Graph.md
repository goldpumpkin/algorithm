### 什么是图？

是一种非线性的复杂数据结构

#### 名词

1. 顶点：图中的元素
2. 边：元素和元素之间的关系
3. 度：和顶点相连的边数
4. 入度：指向顶点的边数
5. 出度：以该顶点为起点的边数

#### 分类

1. 无向图：边有指向
2. 有向图：边没有指向
3. 带权图：每条边有权重

### 图的存储方式？

#### 邻接矩阵

1. 底层数据结构：二维数组

2. 表示：每个顶点编号，如果顶点i和顶点j有关系，则`a[i][j]`为1，无向图`a[j][i]`也为1，带权图值则为权重数目

   ![邻接矩阵](pic/邻接矩阵.jpeg)



3. 缺点

   如果是稀疏图，则会浪费空间

4. 优点

   存储方式简单直接，方便计算。参考「求解最短路径」的Floyd-Warshall解法

#### 邻接表

1. 底层数据：顶点链表+链表（红黑树/平衡二叉树/跳表等）

2. 表示：每个顶点组成一条链表，每个顶点再延伸一条和本顶点有关系的的顶点链表

   ![邻接表](pic/邻接表.jpeg)

3. 缺点

   相比较邻接矩阵，对缓存访问不友好

4. 优点

   相比较邻接矩阵，更省空间

### 问题

1. 如何存储微信、微博等社交网络中的好友关系？
   + 数据结构需要支持的操作
     + 判断用户 A 是否关注了用户 B；
     + 判断用户 A 是否是用户 B 的粉丝；
     + 用户 A 关注用户 B；
     + 用户 A 取消关注用户 B；
     + 根据用户名称的首字母排序，分页获取用户的粉丝列表；
     + 根据用户名称的首字母排序，分页获取用户的关注列表。
   + 分析
     + 根据A和B之间会相互判断是否关注，则需要数据结构是有向图
     + 邻接表和逆邻接表
     + 存储方式：邻接表 ——因为社交网络是一种稀疏图
     + 数据量大，哈希分机器
2. 生活中的使用图的例子
   + 交通网络
   + 地图
   + 人际关系 —— 六度分割理论

